{"version":3,"file":"static/js/main.d2769f2c.js","sources":["webpack://byteval-benchmark/./src/components/common/ErrorBoundary/index.tsx","webpack://byteval-benchmark/./src/router/index.tsx","webpack://byteval-benchmark/./src/components/common/PageLoadingHolder.tsx","webpack://byteval-benchmark/./src/style.js","webpack://byteval-benchmark/./src/assets/layout/Header/index.module.scss","webpack://byteval-benchmark/./src/assets/layout/Header/index.tsx","webpack://byteval-benchmark/./src/const/index.ts","webpack://byteval-benchmark/./src/assets/layout/MainLayout/index.module.scss","webpack://byteval-benchmark/./src/assets/layout/MainLayout/SiderMenu.tsx","webpack://byteval-benchmark/./src/assets/layout/MainLayout/index.tsx","webpack://byteval-benchmark/./src/App.tsx","webpack://byteval-benchmark/./src/entry.tsx","webpack://byteval-benchmark/./src/slardar.ts","webpack://byteval-benchmark/"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-redundant-type-constituents */\nimport React from 'react';\nimport { Empty } from '@douyinfe/semi-ui';\nimport { IllustrationConstruction } from '@douyinfe/semi-illustrations';\nimport { logger } from '@/slardar';\n\ntype TagsType = Record<string, string | number | boolean | any>;\n\ninterface IState {\n  errorInfo: TagsType | undefined;\n}\nexport default class ErrorBoundary extends React.Component<\n  React.PropsWithChildren,\n  IState\n> {\n  state: IState = {\n    errorInfo: undefined,\n  };\n\n  componentDidCatch(error: Error | undefined, errorInfo: IState['errorInfo']) {\n    this.setState({\n      errorInfo,\n    });\n    // 手动上报错误\n    logger.error('ErrorBoundary Catch Error', '组件渲染错误', error, errorInfo);\n  }\n\n  render() {\n    return this.state.errorInfo ? (\n      <Empty image={<IllustrationConstruction />} description=\"开了个小差\" />\n    ) : (\n      this.props.children\n    );\n  }\n}\n","import { lazy } from 'react';\n\ninterface PageType {\n  path: string;\n  component: React.LazyExoticComponent<React.FunctionComponent>;\n  /** 对应的menu key值（侧栏key值） */\n  menuKey?: string;\n  name?: string;\n  /** 是否不需要头部 */\n  showHeader?: boolean;\n}\n\nexport interface RouteCfgType {\n  name: string;\n  pages: PageType[];\n  key?: string;\n  prefixPath?: string;\n  isPurePage?: boolean;\n  /** 是否不需要头部 */\n  showHeader?: boolean;\n}\n\nexport const routerList: RouteCfgType[] = [\n  {\n    name: 'root',\n    key: 'root',\n    prefixPath: '/',\n    pages: [\n      {\n        name: '排行榜',\n        menuKey: 'Rank',\n        path: '/rank',\n        component: lazy(() => import('@/pages/Rank')),\n      },\n      {\n        name: '数据详情',\n        menuKey: 'rankDetail',\n        path: '/rank/detail',\n        component: lazy(() => import('@/pages/RankDetail')),\n      },\n    ],\n  },\n];\n","import { Spin } from '@douyinfe/semi-ui';\n\nconst PageLoadingHolder = () => (\n  <div\n    style={{\n      display: 'flex',\n      height: '100vh',\n      justifyContent: 'center',\n      alignItems: 'center',\n    }}\n  >\n    <Spin size=\"large\" />\n  </div>\n);\n\nexport default PageLoadingHolder;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  --semi-color-primary: #4c5eff;\n}\n\nli {\n  list-style: none;\n}\n\n`;\n","// extracted by css-extract-rspack-plugin\nexport default {\"header\":\"header-DubxIb\"};","import { logoImg } from '@/const';\nimport styles from './index.module.scss';\nimport { useNavigate } from '@edenx/runtime/router';\n\nconst Header = () => {\n  console.log('Header');\n  const navigate = useNavigate();\n  return (\n    <div className={styles.header}>\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <img\n          style={{\n            cursor: 'pointer',\n            height: 28,\n            // width: 122,\n          }}\n          onClick={() => {\n            navigate(`../`);\n          }}\n          src={logoImg}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import logo from '@/assets/images/EvalMuseT.png';\n\nexport const logoImg = logo;\n","// extracted by css-extract-rspack-plugin\nexport default {\"main-menu\":\"main-menu-Np3Cdq\",\"mainMenu\":\"main-menu-Np3Cdq\",\"sider-menu\":\"sider-menu-eAKVSU\",\"siderMenu\":\"sider-menu-eAKVSU\",\"logo\":\"logo-ClAP0o\",\"footer\":\"footer-rf3ykp\",\"scene-select-wrap\":\"scene-select-wrap-Tv4hYO\",\"sceneSelectWrap\":\"scene-select-wrap-Tv4hYO\",\"scene-select\":\"scene-select-naZMw2\",\"sceneSelect\":\"scene-select-naZMw2\",\"scene-select-label\":\"scene-select-label-umviet\",\"sceneSelectLabel\":\"scene-select-label-umviet\",\"side-menu-microApp\":\"side-menu-microApp-bzTfsW\",\"sideMenuMicroApp\":\"side-menu-microApp-bzTfsW\",\"module-select\":\"module-select-wpDSqo\",\"moduleSelect\":\"module-select-wpDSqo\",\"item\":\"item-eP9DjS\",\"active\":\"active-XF1FmA\",\"module-apps-icon\":\"module-apps-icon-TpjLIa\",\"moduleAppsIcon\":\"module-apps-icon-TpjLIa\",\"notify\":\"notify-yPayye\",\"header\":\"header-YAw8s9\",\"icon\":\"icon-rTTEmy\",\"text\":\"text-iGknal\"};","const SiderMenu = () => null;\n\nexport default SiderMenu;\n","import React from 'react';\nimport { Layout } from '@douyinfe/semi-ui';\nimport { Outlet } from '@edenx/runtime/router';\nimport Header from '../Header';\nimport style from './index.module.scss';\nimport SiderMenu from './SiderMenu';\n\nconst { Sider, Content } = Layout;\n\nconst MainLayout = ({\n  showSider = true, // 是否展示侧边菜单\n  showHeader = true, // 是否展示顶部\n  isPurePage = false, // 是否是纯净页面，即没有头部和左侧栏\n}) => {\n  const renderSider = () => {\n    // 不带侧边菜单，用来嵌在别的平台iframe或独立的页面\n    if (!showSider) {\n      return null;\n    }\n    return (\n      <Sider className={style['main-menu']}>\n        <SiderMenu />\n      </Sider>\n    );\n  };\n\n  if (isPurePage) {\n    return <Outlet />;\n  }\n\n  return (\n    <Layout style={{ border: '0px' }}>\n      {showHeader ? <Header /> : null}\n      <Layout>\n        {renderSider()}\n        <Content\n          style={{\n            backgroundColor: 'rgb(242, 243, 250)',\n          }}\n        >\n          <div\n            id=\"globalContent\"\n            style={{\n              boxSizing: 'border-box',\n              height: 'calc(100vh - 60px)',\n              overflow: 'auto',\n              backgroundColor: '#FFFFFF',\n              position: 'relative',\n              display: 'flex',\n              flexDirection: 'column',\n              borderTopLeftRadius: showSider ? 16 : 0,\n            }}\n          >\n            <Outlet />\n          </div>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\nexport default React.memo(MainLayout);\n","import { lazy, Suspense } from 'react';\nimport { HashRouter, Route, Routes } from '@edenx/runtime/router';\nimport ErrorBoundary from './components/common/ErrorBoundary';\nimport { routerList } from './router';\nimport PageLoadingHolder from './components/common/PageLoadingHolder';\nimport { GlobalStyle } from './style';\nimport MainLayout from './assets/layout/MainLayout';\n\nconst Home = lazy(() => import('@/pages/Rank'));\n// const Blank = lazy(() => import('@/pages/Blank'));\n\nexport default () => (\n  <ErrorBoundary>\n    <GlobalStyle />\n    <HashRouter>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <Suspense fallback={<PageLoadingHolder />}>\n              <Home />\n              {/* <Blank /> */}\n            </Suspense>\n          }\n        />\n        {routerList.map(item => (\n          <Route key={item.key} path={item.prefixPath}>\n            {item.pages.map(page => (\n              <Route\n                key={`${page}_layout`}\n                element={\n                  <MainLayout showSider={false} showHeader={page.showHeader} />\n                }\n              >\n                <Route\n                  key={page.path}\n                  path={page.path}\n                  element={\n                    <Suspense fallback={<PageLoadingHolder />}>\n                      <page.component />\n                    </Suspense>\n                  }\n                />\n              </Route>\n            ))}\n          </Route>\n        ))}\n      </Routes>\n    </HashRouter>\n  </ErrorBoundary>\n);\n","import { createRoot } from '@edenx/runtime/react';\nimport { render } from '@edenx/runtime/browser';\nimport initSlardar, { slardar } from './slardar';\n\nconst ModernRoot = createRoot();\n\n// eslint-disable-next-line @typescript-eslint/require-await\nasync function beforeRender() {\n  //   const slardarConfig = {\n  //     userId: userInfo.username,\n  //   };\n\n  // slardarInit before bootstrap...\n  if (process.env.NODE_ENV === 'production') {\n    requestIdleCallback(() => {\n      initSlardar();\n      slardar.config({});\n      slardar.start();\n\n      // 初始化回放录屏\n      //   window.iesqaBytereplayOpen?.({\n      //     userInfo: {\n      //       nickname: userInfo.name,\n      //       email: userInfo.email,\n      //     },\n      //     platform: 'byteval',\n      //     intervalTime: 600000,\n      //     ignoreWhiteList: true,\n      //     token: 'JjRnJRlB',\n      //     sessionId: slardar.config()?.sessionId,\n      //   });\n      // });\n    });\n  }\n}\n\nbeforeRender().then(() => {\n  render(<ModernRoot />);\n});\n","import { getSlardarInstance, getSlardarLogger } from '@ies/epfetoolkit';\n\nconst bid = 'byteval-web';\n\nexport const { slardar } = getSlardarInstance('default'); // 以国内为例\n\nexport const logger = getSlardarLogger('default'); // 以国内为例\n\n// 获取当前环境/泳道，区分上报\nexport const getSlardarEnv = () => {\n  if ((window as Record<string, any>).gfdatav1?.envName === 'prod') {\n    // if (process.env.VERSION === 'development') {\n    //   return 'boe';\n    // }\n    return 'production';\n  }\n  return (window as Record<string, any>).gfdatav1?.envName || 'production';\n};\n\nexport default () => {\n  if (!slardar) {\n    return;\n  }\n\n  try {\n    console.log('# slardar init', `current env: ${getSlardarEnv()}`);\n    const { hostname } = window.location;\n    // 判断是否本域名请求\n    const reg = new RegExp(`^https?://(${hostname})`);\n    slardar.init({\n      env: getSlardarEnv(), // 可以通过判断当前域名是否为boe，给出指定值\n      release: process.env.BUILD_VERSION, // SCM版本号\n      bid,\n      plugins: {\n        ajax: {\n          collectBodyOnError: true, // 当请求错误时，上报req、res body\n          // 对不同请求错误分类\n          extraExtractor: (body, e) => {\n            const reqUrl = e.request.url;\n            const isOurHost = reg.test(reqUrl);\n            const httpCode = e.response.status;\n            // 401是登录态失效，不算在错误内\n            const isErrorHttpCode = httpCode >= 400 && httpCode !== 401;\n\n            // 一般是请求cancel的情况\n            if (httpCode === 0) {\n              return {\n                level: 'warn',\n                reqErrType: 'unknown',\n                msg: '请求cancel或未知问题',\n              };\n            }\n            // 非本域名接口\n            if (!isOurHost) {\n              if (isErrorHttpCode) {\n                return {\n                  level: 'error',\n                  reqErrType: 'other',\n                  msg: '其他域名请求失败',\n                };\n              }\n              return false;\n            }\n\n            return false;\n          },\n        },\n      },\n    });\n  } catch (e) {\n    console.warn('# slardar init failed', `current env: ${getSlardarEnv()}`);\n  }\n};\n","import \"core-js\";"],"names":["ErrorBoundary","React","error","errorInfo","logger","Empty","IllustrationConstruction","undefined","routerList","lazy","Spin","GlobalStyle","createGlobalStyle","console","navigate","useNavigate","logo","Sider","Content","Layout","showSider","showHeader","isPurePage","Outlet","Header","SiderMenu","Home","HashRouter","Routes","Route","Suspense","PageLoadingHolder","item","page","MainLayout","ModernRoot","createRoot","_beforeRender","requestIdleCallback","initSlardar","slardar","beforeRender","render","getSlardarInstance","getSlardarLogger","getSlardarEnv","_window_gfdatav1","_window_gfdatav11","window","hostname","reg","RegExp","process","bid","body","e","reqUrl","isOurHost","httpCode"],"mappings":"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"}